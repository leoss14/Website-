<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uber NYC Demand Analysis â€“ Leonardo Luksic</title>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=IBM+Plex+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* ---- PAGE-SPECIFIC ADDITIONS ---- */

        /* Inline comparison bars */
        .compare-bars {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2.5rem 0;
        }
        .compare-bar-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .compare-bar-group .bar-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.06em;
            font-weight: 500;
        }
        .compare-bar-group .bar-row {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .compare-bar-group .bar-year {
            font-size: 0.85rem;
            color: var(--text-secondary);
            width: 2.5rem;
            flex-shrink: 0;
            font-weight: 500;
        }
        .compare-bar-group .bar-track {
            flex: 1;
            height: 24px;
            background: var(--grey-100);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }
        .compare-bar-group .bar-fill {
            height: 100%;
            border-radius: 4px;
        }
        .compare-bar-group .bar-fill.fill-2018 {
            background: #ff6b6b;
        }
        .compare-bar-group .bar-fill.fill-2025 {
            background: #4ecdc4;
        }
        .compare-bar-group .bar-value {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
            width: 4rem;
            text-align: right;
            flex-shrink: 0;
        }

        @media (max-width: 768px) {
            .compare-bars {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        /* Scorecard row */
        .scorecard-row {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border);
        }
        .scorecard-row:last-child {
            border-bottom: none;
        }
        .scorecard-check {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 0.85rem;
            font-weight: 700;
        }
        .scorecard-check.pass {
            background: var(--success-bg);
            color: var(--success);
            border: 1.5px solid var(--success);
        }
        .scorecard-prediction {
            flex: 1;
            font-size: 0.95rem;
            color: var(--text-primary);
        }
        .scorecard-detail {
            font-size: 0.85rem;
            color: var(--text-muted);
            text-align: right;
            flex-shrink: 0;
        }

        /* Divider between major parts */
        .part-divider {
            border: none;
            border-top: 1px solid var(--grey-200);
            margin: 0;
        }

        /* Suggestion callout box â€” REMOVE THESE BEFORE PUBLISHING */
        .suggestion-box {
            background: #fffbeb;
            border: 1px solid #f5d778;
            border-left: 4px solid #d4a017;
            border-radius: 6px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .suggestion-box h4 {
            color: #92710c;
            margin-bottom: 0.75rem;
            font-size: 1rem;
            border-bottom: none;
            padding-bottom: 0;
        }
        .suggestion-box p {
            color: #6b5608;
            font-size: 0.9rem;
            line-height: 1.7;
            margin-bottom: 0.5rem;
        }
        .suggestion-box p:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>

    <div class="nav-container">
        <nav>
            <a href="index.html" class="logo">LL</a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </div>
    
    <!-- HERO -->
    <div class="project-hero">
        <h1>Geographic Evolution of Uber Demand in NYC</h1>
        <p class="subtitle">
            How Uber pickup patterns shifted across New York City between January 2018 and January 2025, 
            and what the spatial redistribution suggests about algorithmic dispatch.
        </p>
        
        <div class="project-meta-bar">
            <div class="meta-item">
                <span class="meta-label">Trips Analyzed</span>
                <span class="meta-value">20M+</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">Period</span>
                <span class="meta-value">Jan 2018 â€“ Jan 2025</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">Uber Market Share</span>
                <span class="meta-value">23% â†’ 75%</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">Taxi Zones</span>
                <span class="meta-value">263</span>
            </div>
        </div>
    </div>

    <!-- SUMMARY -->
    <section class="summary-section">
        <div class="theory-box">
            <h3>Summary</h3>
            <p>
                This project documents changes in Uber pickup geography in New York City between 
                January 2018 and January 2025, using NYC Taxi and Limousine Commission trip records. 
                Over this period, Uber's market share among for-hire vehicles grew from 23% to 75%, 
                while pickups became more geographically concentrated. Airport zones saw substantial 
                increases; several high-density Manhattan zones declined by over a third. These patterns 
                are consistent with the incentive structure of value-based driver dispatch, where 
                destination characteristics and anticipated future demand influence matching decisions. 
                The analysis is descriptive and does not establish causation.
            </p>
        </div>
    </section>

    <!-- BACKGROUND -->
    <section>
        <h2 class="section-title">Background: Greedy vs. Value-Based Matching</h2>
        
        <div class="theory-box">
            <h3>The Matching Problem</h3>
            <p>
                In 2018, Uber's dispatch system connected the nearest available driver to each 
                passenger request. This greedy approach minimizes immediate pickup distance but 
                ignores where the driver ends up after the trip.
            </p>
            <p>
                A driver might pick up someone 2 minutes away in Midtown and drop them in a 
                relatively isolated area â€” earning well on that ride but then facing a long wait 
                for the next one. Meanwhile, a driver 5 minutes away could have taken the same 
                trip and ended up better positioned for subsequent pickups. The greedy algorithm 
                does not account for this.
            </p>

            <div class="method-box wrong">
                <h4 style="color: var(--error); margin-bottom: 0.75rem;">2018: Greedy Matching</h4>
                <p style="margin-bottom: 0.75rem;">
                    <strong>Rule:</strong> Assign the closest available driver to minimize pickup time.
                </p>
                <div style="background: rgba(179, 58, 58, 0.1); padding: 1.25rem; border-radius: 6px; margin-top: 1rem;">
                    <strong style="color: var(--error);">Limitations:</strong>
                    <ul style="margin-top: 0.5rem; margin-left: 1.25rem; color: var(--text-secondary);">
                        <li>Ignores where the driver ends up after the trip</li>
                        <li>Does not account for future demand conditions</li>
                        <li>Can leave drivers stranded in low-demand areas</li>
                        <li>Optimizes pickup time at the expense of overall system throughput</li>
                    </ul>
                </div>
            </div>

            <div class="method-box correct">
                <h4 style="color: var(--success); margin-bottom: 0.75rem;">2025: MDP-Based Matching</h4>
                <p style="margin-bottom: 0.75rem;">
                    <strong>Rule:</strong> Assign the driver whose dispatch maximizes long-run value, 
                    not just immediate pickup distance.
                </p>
                <div style="background: rgba(46, 125, 74, 0.1); padding: 1.25rem; border-radius: 6px; margin-top: 1rem;">
                    <strong style="color: var(--success);">Key Properties:</strong>
                    <ul style="margin-top: 0.5rem; margin-left: 1.25rem; color: var(--text-secondary);">
                        <li>The system learns a value for each zone at each time of day</li>
                        <li>Evaluates: Immediate Fare + Future Position Value âˆ’ Current Position Value</li>
                        <li>Drivers in low-value zones get priority for trips to high-value destinations</li>
                        <li>Trips to high-demand areas are valued because they set up the next ride</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="theory-box">
            <h3>Worked Example</h3>

            <p>
                A passenger in Midtown requests a trip to JFK Airport. Two drivers are available:
            </p>

            <div style="margin: 1.5rem 0;">
                <div style="background: var(--error-bg); padding: 1.25rem; border-radius: 6px; border-left: 4px solid var(--error); margin-bottom: 1rem;">
                    <strong style="color: var(--error);">Driver A</strong> â€” 2 minutes away, already in Midtown<br>
                    <span style="color: var(--text-secondary);">
                        Greedy choice (shortest pickup). After the trip, Driver A sits in the JFK queue for 
                        30 minutes. Midtown loses a well-positioned driver.
                    </span>
                </div>

                <div style="background: var(--success-bg); padding: 1.25rem; border-radius: 6px; border-left: 4px solid var(--success);">
                    <strong style="color: var(--success);">Driver B</strong> â€” 5 minutes away, Upper East Side<br>
                    <span style="color: var(--text-secondary);">
                        MDP choice (better long-run outcome). Driver B takes the airport fare; Driver A stays in 
                        high-demand Midtown and picks up the next ride quickly. Both end up better off.
                    </span>
                </div>
            </div>

            <p>
                The system learns zone values through millions of observations. Drivers in quiet zones get 
                priority for trips to busy destinations because they have less to lose by leaving. Trips to 
                high-demand zones are valued because they position drivers well for subsequent rides.
            </p>

            <p style="background: var(--grey-100); padding: 1.25rem; border-radius: 6px; border-left: 4px solid var(--accent); margin-top: 1.5rem;">
                Xu et al. (2018) describe MDP-based dispatch algorithms deployed in 20+ cities, handling 
                millions of daily trips. Reported improvements in trip completion rates range from 0.5% to 5%, 
                depending on city characteristics.
            </p>
        </div>
    </section>

    <!-- TESTABLE PREDICTIONS -->
    <section>
        <h2 class="section-title">Testable Predictions</h2>
        
        <p style="margin-bottom: 2rem;">
            If value-based matching was deployed between 2018 and 2025, specific changes in demand geography 
            should follow. The table below outlines four predictions, each tied to a concrete mechanism.
        </p>

        <table>
            <thead>
                <tr>
                    <th>Prediction</th>
                    <th>Mechanism</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Increased airport demand</strong></td>
                    <td>Airports have high destination value â€” drivers completing airport trips are well-positioned for return fares into Manhattan</td>
                </tr>
                <tr>
                    <td><strong>Manhattan core decline</strong></td>
                    <td>Driver saturation in central Manhattan reduces the marginal value of being in those zones</td>
                </tr>
                <tr>
                    <td><strong>Higher geographic concentration</strong></td>
                    <td>The system focuses dispatch on corridors with high throughput rather than spreading supply uniformly</td>
                </tr>
                <tr>
                    <td><strong>Stable geographic structure</strong></td>
                    <td>Optimization works within existing demand patterns â€” it reallocates supply, not reorganize the city</td>
                </tr>
            </tbody>
        </table>

    </section>

    <hr class="part-divider">

    <!-- ============================================================ -->
    <!-- PART I: GEOGRAPHIC ANALYSIS                                   -->
    <!-- ============================================================ -->

    <!-- 2018 BASELINE -->
    <section>
        <h2 class="section-title">2018 Baseline</h2>
        
        <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
            <div class="stat-highlight">
                <div class="value">19.8M</div>
                <div class="label">Total FHV Trips (Jan 2018)</div>
            </div>
            <div class="stat-highlight">
                <div class="value">22.7%</div>
                <div class="label">Uber Market Share</div>
            </div>
            <div class="stat-highlight">
                <div class="value">0.327</div>
                <div class="label">Gini Coefficient</div>
            </div>
        </div>

        <p style="margin: 2rem 0 1.5rem;">
            In January 2018, Uber accounted for 4.5 million of the 19.8 million for-hire vehicle trips in NYC. 
            Pickups were concentrated in Manhattan core zones: Midtown Center, East Village, and Union Square 
            led in volume. K-means clustering (k=6) on zone centroid coordinates identified six geographic 
            demand centers across 263 taxi zones.
        </p>

        <div class="viz-container">
            <iframe src="uber_visualizations/outputs/1_uber_2018_clusters.html" height="650"></iframe>
        </div>

        <div class="content-grid" style="margin-top: 2rem;">
            <div class="content-card">
                <div class="card-header"><h3>Top Pickup Zones</h3></div>
                <div class="card-body">
                    <p><strong>1.</strong> Midtown Center (1.9% of all pickups)</p>
                    <p><strong>2.</strong> East Village (1.8%)</p>
                    <p><strong>3.</strong> Union Square (1.8%)</p>
                    <p style="margin-top: 1rem; color: var(--text-muted); margin-bottom: 0;">Manhattan zones accounted for ~60% of total pickups</p>
                </div>
            </div>
            <div class="content-card">
                <div class="card-header"><h3>Temporal Profile</h3></div>
                <div class="card-body">
                    <p><strong>Peak hour:</strong> 6 PM (evening commute)</p>
                    <p><strong>Busiest day:</strong> Saturday</p>
                    <p><strong>Morning rush:</strong> 7â€“9 AM</p>
                    <p style="margin-top: 1rem; color: var(--text-muted); margin-bottom: 0;">The 6 PM peak comprised roughly 18% of daily demand</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 2025 RESULTS -->
    <section>
        <h2 class="section-title">2025 Snapshot</h2>
        
        <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
            <div class="stat-highlight">
                <div class="value">20.4M</div>
                <div class="label">Total FHV Trips (Jan 2025)</div>
            </div>
            <div class="stat-highlight">
                <div class="value">75.3%</div>
                <div class="label">Uber Market Share</div>
            </div>
            <div class="stat-highlight">
                <div class="value">0.375</div>
                <div class="label">Gini Coefficient (+15%)</div>
            </div>
        </div>

        <!-- Inline market share + Gini comparison bars -->
        <div class="compare-bars">
            <div class="compare-bar-group">
                <div class="bar-label">Market Share</div>
                <div class="bar-row">
                    <span class="bar-year">2018</span>
                    <div class="bar-track"><div class="bar-fill fill-2018" style="width: 22.7%;"></div></div>
                    <span class="bar-value">22.7%</span>
                </div>
                <div class="bar-row">
                    <span class="bar-year">2025</span>
                    <div class="bar-track"><div class="bar-fill fill-2025" style="width: 75.3%;"></div></div>
                    <span class="bar-value">75.3%</span>
                </div>
            </div>
            <div class="compare-bar-group">
                <div class="bar-label">Geographic Concentration (Gini)</div>
                <div class="bar-row">
                    <span class="bar-year">2018</span>
                    <div class="bar-track"><div class="bar-fill fill-2018" style="width: 65.4%;"></div></div>
                    <span class="bar-value">0.327</span>
                </div>
                <div class="bar-row">
                    <span class="bar-year">2025</span>
                    <div class="bar-track"><div class="bar-fill fill-2025" style="width: 75%;"></div></div>
                    <span class="bar-value">0.375</span>
                </div>
            </div>
        </div>

        <p style="margin: 1.5rem 0;">
            By January 2025, Uber handled 15.4 million trips â€” a 241% increase from 2018. Total FHV volume 
            remained roughly flat at 20.4 million, meaning Uber's growth came almost entirely at the expense 
            of other operators. JFK Airport displaced Midtown Center as the top pickup zone. Geographic 
            concentration increased by 15% (Gini 0.327 â†’ 0.375) despite Uber now covering a broader set of zones.
        </p>

        <div class="viz-container">
            <iframe src="uber_visualizations/outputs/2_uber_2025_clusters.html" height="650"></iframe>
        </div>

        <div class="content-grid" style="margin-top: 2rem;">
            <div class="content-card">
                <div class="card-header"><h3>Airport Zones</h3></div>
                <div class="card-body">
                    <p><strong>Combined share:</strong> +48% vs 2018</p>
                    <p><strong>JFK Airport:</strong> Top pickup zone</p>
                    <p><strong>LaGuardia:</strong> Strong growth</p>
                    <p style="margin-top: 1rem; color: var(--text-muted); margin-bottom: 0;">
                        Airports became the dominant demand centers
                    </p>
                </div>
            </div>
            <div class="content-card">
                <div class="card-header"><h3>Manhattan Core</h3></div>
                <div class="card-body">
                    <p><strong>Average decline:</strong> âˆ’35% across top zones</p>
                    <p><strong>Pattern:</strong> Reduction in traditional hubs</p>
                    <p><strong>Coverage:</strong> Broader but less concentrated</p>
                    <p style="margin-top: 1rem; color: var(--text-muted); margin-bottom: 0;">
                        Central zones retained volume but lost relative share
                    </p>
                </div>
            </div>
        </div>

        <h3 style="margin-top: 2.5rem;">Geographic Concentration</h3>
        <p style="margin-bottom: 1.5rem;">
            The Lorenz curve below plots the cumulative share of pickups against the cumulative share of 
            taxi zones, ranked from lowest to highest demand. The gap between each curve and the diagonal 
            corresponds to the Gini coefficient. In 2018, the bottom 50% of zones accounted for roughly 
            13% of pickups; by 2025, that figure dropped further, reflecting tighter concentration of 
            demand in fewer zones despite Uber's expanded coverage.
        </p>

        <div class="viz-container">
            <iframe src="uber_visualizations/outputs/11_lorenz_curve.html" height="600"></iframe>
        </div>
    </section>

    <section>
        <h2 class="section-title">Manhattan Core vs. Airports</h2>
        
        <p style="margin-bottom: 2rem;">
            The most pronounced shift occurred between Manhattan's traditional high-density zones 
            and the airports. JFK and LaGuardia combined increased their share of pickups by 48%, 
            while the top Manhattan zones (Union Square, Midtown Center, East Village) declined 
            by an average of 35%.
        </p>
    
        <div class="viz-container">
            <iframe src="uber_visualizations/outputs/manhattan_vs_airports.html" height="500"></iframe>
        </div>
    
        <p style="margin-top: 2rem;">
            This redistribution reflects changes in where supply concentrates rather than 
            where New Yorkers want to travel. Temporal patterns remained stable across both years.
        </p>
    </section>

    <!-- CLUSTER MOVEMENT -->
    <section>
        <h2 class="section-title">Cluster Movement</h2>

        <p style="margin-bottom: 2rem;">
            To quantify geographic shift, I matched each 2018 cluster centroid to its nearest 2025 counterpart 
            by geographic proximity (not index order) and measured the displacement. The map below shows how 
            the six demand centers moved over the seven-year period.
        </p>

        <div class="viz-container">
            <iframe src="uber_visualizations/outputs/8_cluster_shifts_PROPER.html" height="750"></iframe>
        </div>

        <p style="margin: 2rem 0;">
            Cluster centroids shifted 4.64 km on average. Most movement was directed toward airports and 
            outer-borough transit hubs. The moderate scale of these shifts â€” relative to the full extent 
            of NYC â€” suggests optimization within an established spatial structure rather than wholesale 
            reorganization. The geographic skeleton of demand remained largely intact; what changed was 
            where, within that skeleton, supply concentrated.
        </p>
    </section>

    <!-- BOROUGH ANALYSIS -->
    <section>
        <h2 class="section-title">Borough-Level Distribution</h2>
        
        <p style="margin-bottom: 2rem;">
            Aggregating by borough provides a macro view of the redistribution and helps distinguish between 
            internal reshuffling within Manhattan and net expansion into outer boroughs.
        </p>

        <div class="viz-container">
            <iframe src="uber_visualizations/outputs/7_borough_analysis.html" height="500"></iframe>
        </div>

        <p style="margin: 2rem 0;">
            Manhattan retained roughly 68% of Uber pickups but with reduced internal concentration â€” fewer 
            trips in the traditional core, more in upper Manhattan. Brooklyn's share grew from 18% to 20%. 
            Queens held steady at around 9%. The outer-borough uptick represents expansion into areas that 
            were less served in 2018, not a substitution away from Manhattan.
        </p>

        <!-- SUGGESTION: Treemap or paired donuts -->
        <div class="suggestion-box">
            <h4>ðŸ“Š Suggested Chart: Borough Share Treemap or Paired Donuts</h4>
            <p>
                Two side-by-side treemaps (or donut charts) â€” one per year â€” would communicate proportional 
                borough shares more immediately than the grouped bar chart. The bar chart works for absolute 
                volumes; a proportional view would better isolate the redistribution.
            </p>
        </div>
    </section>

    <hr class="part-divider">

    <!-- ============================================================ -->
    <!-- PART II: TEMPORAL PATTERNS                                    -->
    <!-- ============================================================ -->

    <section>
        <h2 class="section-title">Temporal Demand Patterns</h2>
        
        <p style="margin-bottom: 2rem;">
            While geographic patterns shifted substantially, temporal patterns were more stable. 
            The peak hour remained 6 PM in both years. The busiest day shifted from Saturday (2018) 
            to Friday (2025), though the overall weekly shape changed only modestly.
        </p>
        
        <h3>Weekly Profile</h3>
        <div class="viz-container">
            <iframe src="uber_visualizations/outputs/5_daily_patterns.html" height="500"></iframe>
        </div>

        <h3>Hourly Profile</h3>
        <div class="viz-container">
            <iframe src="uber_visualizations/outputs/4_hourly_patterns.html" height="500"></iframe>
        </div>

        <p style="margin: 1.5rem 0 2.5rem;">
            The hourly curves track each other closely in shape. Evening demand dominates both years. 
            The 2025 curve sits higher in absolute terms (reflecting more Uber trips), but the relative 
            distribution across hours is nearly identical. This is worth noting: the geographic 
            redistribution documented above does not appear to be driven by changes in when people 
            travel, but rather by changes in where supply is allocated.
        </p>




        <h3 style="margin-top: 2.5rem;">Cluster-Level Hourly Profiles</h3>
        <p style="margin-bottom: 1.5rem;">
            The small multiples below show the hourly demand curve for each geographic cluster, with 
            2018 and 2025 matched pairs overlaid. The temporal shape within each cluster is largely 
            preserved across years â€” evening peaks in Manhattan clusters, flatter profiles in outer-borough 
            and airport clusters. The consistency reinforces the observation that what changed between 
            years was where supply was allocated, not when riders requested trips.
        </p>

        <div class="viz-container">
            <iframe src="uber_visualizations/outputs/12_cluster_hourly_profiles.html" height="600"></iframe>
        </div>
    </section>

    <hr class="part-divider">

    <!-- ============================================================ -->
    <!-- PART III: SYNTHESIS                                           -->
    <!-- ============================================================ -->

    <section>
        <h2 class="section-title">Prediction Scorecard</h2>

        <!-- Scorecard summary -->
        <div class="theory-box" style="margin-top: 2rem;">
            <div class="scorecard-row">
                <span class="scorecard-check pass">âœ“</span>
                <span class="scorecard-prediction"><strong>Airport growth</strong> â€” JFK and LaGuardia combined pickup share rose 48%</span>
                <span class="scorecard-detail">Consistent</span>
            </div>
            <div class="scorecard-row">
                <span class="scorecard-check pass">âœ“</span>
                <span class="scorecard-prediction"><strong>Manhattan core decline</strong> â€” Top-3 zones lost 34â€“39% of their pickup share</span>
                <span class="scorecard-detail">Consistent</span>
            </div>
            <div class="scorecard-row">
                <span class="scorecard-check pass">âœ“</span>
                <span class="scorecard-prediction"><strong>Higher concentration</strong> â€” Gini coefficient rose from 0.327 to 0.375</span>
                <span class="scorecard-detail">Consistent</span>
            </div>
            <div class="scorecard-row">
                <span class="scorecard-check pass">âœ“</span>
                <span class="scorecard-prediction"><strong>Stable structure</strong> â€” Mean centroid shift of 4.64 km; temporal patterns unchanged</span>
                <span class="scorecard-detail">Consistent</span>
            </div>
        </div>

        <p style="margin: 2rem 0;">
            All four predictions align with the data. The stable peak hour and weekly patterns are 
            worth emphasizing: <em>where</em> demand concentrates has changed substantially, but 
            <em>when</em> people use the service has not. This is more consistent with supply-side 
            (algorithmic) effects than with demand-side behavioral shifts, though it does not rule 
            out other explanations.
        </p>
    </section>

    <!-- INTERPRETATION -->
    <section>
        <h2 class="section-title">Interpretation and Limitations</h2>
        
        <div class="theory-box">
            <h3>What the Patterns Suggest</h3>
            
            <p>
                The observed redistribution â€” airport growth, Manhattan core decline, higher concentration, 
                stable temporal patterns â€” is what an MDP-based dispatch system would be expected to produce. 
                Airport zones became more attractive destinations because they position drivers for high-value 
                return trips. Central Manhattan zones became less valuable at the margin due to driver 
                saturation. The system appears to have concentrated supply on corridors with high throughput 
                rather than distributing it uniformly.
            </p>

            <p>
                The 4.64 km average cluster shift indicates that these changes occurred within the existing 
                geographic structure of NYC demand. This is the signature of supply-side reallocation within 
                a stable market, not a fundamental reorganization of where New Yorkers travel.
            </p>
        </div>

        <div class="theory-box">
            <h3>Limitations</h3>
            <p>
                This analysis documents correlation, not causation. Several alternative explanations could 
                account for part or all of the observed patterns: post-pandemic changes in commuting behavior, 
                competitive dynamics between Uber and Lyft, fare and pricing changes, regulatory shifts 
                (including the 2019 TLC cap on new vehicle licenses), changes in airport ground transportation 
                policy, or shifts in where New Yorkers live and work. The data covers January only, so seasonal 
                variation is not captured. The analysis uses pickup locations; incorporating dropoff data would 
                give a more complete picture.
            </p>
        </div>
    </section>

    <!-- TECHNICAL APPENDIX -->
    <section>
        <h2 class="section-title">Technical Appendix</h2>
        
        <div class="content-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
            <div class="content-card">
                <div class="card-header"><h3>Data</h3></div>
                <div class="card-body">
                    <p><strong>2018:</strong> 19.8M trips (4.5M Uber)</p>
                    <p><strong>2025:</strong> 20.4M trips (15.4M Uber)</p>
                    <p><strong>Source:</strong> NYC TLC public trip records</p>
                    <p><strong>Zones:</strong> 263 TLC taxi zones</p>
                    <p style="margin-bottom: 0;"><strong>Format:</strong> Parquet (via PyArrow)</p>
                </div>
            </div>

            <div class="content-card">
                <div class="card-header"><h3>Methods</h3></div>
                <div class="card-body">
                    <p><strong>Clustering:</strong> K-means (k=6) on zone centroid lat/lon</p>
                    <p><strong>Matching:</strong> Clusters paired by geographic proximity</p>
                    <p><strong>Concentration:</strong> Gini coefficient across zones</p>
                    <p style="margin-bottom: 0;"><strong>Shift:</strong> Euclidean distance between matched centroids</p>
                </div>
            </div>

            <div class="content-card">
                <div class="card-header"><h3>Tools</h3></div>
                <div class="card-body">
                    <p><strong>Language:</strong> Python 3.10+</p>
                    <p><strong>Analysis:</strong> Pandas, NumPy, Scikit-learn</p>
                    <p><strong>Visualization:</strong> Plotly (maps + charts)</p>
                    <p style="margin-bottom: 0;"><strong>Distance:</strong> SciPy (spatial metrics)</p>
                </div>
            </div>

            <div class="content-card">
                <div class="card-header"><h3>References</h3></div>
                <div class="card-body">
                    <p>Xu et al. (2018). "Large-scale order dispatch in on-demand ride-hailing platforms." <em>KDD '18.</em></p>
                    <p style="margin-top: 0.75rem; font-size: 0.875rem; color: var(--text-muted); margin-bottom: 0;">
                        MDP framework based on published research. Analysis independent of any proprietary system.
                    </p>
                </div>
            </div>
        </div>

        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 0.75rem; margin: 2.5rem 0;">
            <span style="padding: 0.5rem 1rem; background: var(--white); border: 1px solid var(--border); border-radius: 4px; font-size: 0.85rem; color: var(--text-secondary);">K-Means Clustering</span>
            <span style="padding: 0.5rem 1rem; background: var(--white); border: 1px solid var(--border); border-radius: 4px; font-size: 0.85rem; color: var(--text-secondary);">Geospatial Analysis</span>
            <span style="padding: 0.5rem 1rem; background: var(--white); border: 1px solid var(--border); border-radius: 4px; font-size: 0.85rem; color: var(--text-secondary);">Markov Decision Process</span>
            <span style="padding: 0.5rem 1rem; background: var(--white); border: 1px solid var(--border); border-radius: 4px; font-size: 0.85rem; color: var(--text-secondary);">Gini Coefficient</span>
            <span style="padding: 0.5rem 1rem; background: var(--white); border: 1px solid var(--border); border-radius: 4px; font-size: 0.85rem; color: var(--text-secondary);">NYC TLC Data</span>
            <span style="padding: 0.5rem 1rem; background: var(--white); border: 1px solid var(--border); border-radius: 4px; font-size: 0.85rem; color: var(--text-secondary);">Python</span>
        </div>
    </section>

    <footer>
        <p>Â© 2025 Leonardo Luksic</p>
    </footer>

</body>
</html>
