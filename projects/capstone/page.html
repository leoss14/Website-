<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="../../favicon.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Natural Resources and Economic Complexity. Capstone project with Moody's Ratings examining how resource endowments shape economic diversification across 208 countries.">
    <meta property="og:title" content="Natural Resources &amp; Economic Complexity | Leonardo Luksic">
    <meta property="og:description" content="Natural Resources and Economic Complexity. Capstone project with Moody's Ratings examining how resource endowments shape economic diversification across 208 countries.">
    <meta property="og:type" content="website">
    <title>Natural Resources & Economic Complexity | Leonardo Luksic</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/project-shared.css">
</head>
<body>

    <!-- Navigation -->
    <div class="nav-container">
        <nav>
            <input type="checkbox" id="nav-check" class="nav-check" aria-hidden="true">
            <a href="../../index.html" class="nav-home" aria-label="Home">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 10L10 3L17 10" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M5 8.5V16C5 16.3 5.2 16.5 5.5 16.5H8.5V12.5C8.5 12.2 8.7 12 9 12H11C11.3 12 11.5 12.2 11.5 12.5V16.5H14.5C14.8 16.5 15 16.3 15 16V8.5" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span class="nav-home-label">Home</span>
            </a>
            <ul class="nav-links">
                <li><a href="../../projects.html">Projects</a></li>
                <li><a href="../../about.html">About</a></li>
                <li><a href="../../contact.html">Contact</a></li>
            </ul>
            <label for="nav-check" class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </label>
        </nav>
    </div>

    <!-- Hero -->
    <section class="project-hero" style="padding-top: calc(var(--nav-height) + 4.5rem); padding-bottom: 3.5rem;">
        <h1 style="font-size: clamp(2.4rem, 5vw, 3.2rem); max-width: 850px; margin-bottom: 1.5rem;">Natural Resources &amp; Economic Complexity</h1>
        <p class="subtitle" style="font-size: 1.15rem; max-width: 780px; line-height: 1.8; color: var(--text-secondary);">
            Countries rich in oil, gas, and minerals often struggle to build diverse, sophisticated
            economies. This project examines why, and which resource-rich countries break the pattern.
            Using clustering, panel econometrics, and machine learning across 126 countries and
            25 years of data, it identifies the conditions under which resource wealth constrains
            or enables economic diversification.
        </p>
        <div class="project-meta-bar" style="margin-top: 2rem;">
            <div class="meta-item">
                <span class="meta-label">Institution</span>
                <span class="meta-value">LSE</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">Partner</span>
                <span class="meta-value">Moody&rsquo;s Ratings</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">Programme</span>
                <span class="meta-value">MPA Data Science</span>
            </div>
            <div class="meta-item">
                <span class="meta-label">Year</span>
                <span class="meta-value">2025</span>
            </div>
        </div>
    </section>


    <!-- BACKGROUND -->
    <section id="overview">
        <span class="section-label">Background</span>
        <h2>Concepts &amp; Research Design</h2>

        <p>
            <strong>Economic complexity</strong> measures how sophisticated and diverse a
            country&rsquo;s exports are. Countries that produce many different, hard-to-make
            products (pharmaceuticals, machinery, electronics) score high on the Economic
            Complexity Index (ECI). Countries whose exports are dominated by raw materials
            score low. Japan, Germany, and Switzerland rank highest; many oil exporters and
            low-income countries rank lowest.
        </p>
        <p>
            <strong>The resource curse</strong> is the observation that countries rich in natural
            resources often grow more slowly, have weaker institutions, and develop less diverse
            economies than resource-poor countries. Nigeria and Venezuela are classic examples:
            abundant natural wealth, low economic complexity. But Norway, Canada, and Australia
            show that resource wealth and economic sophistication can coexist.
        </p>
        <p>
            <strong>Human capital</strong>, measured by the World Bank&rsquo;s Human Capital Index (HCI),
            captures education and health outcomes in a country&rsquo;s workforce. It is one of the strongest
            predictors of economic complexity, but this project tests whether its effect is weakened in
            countries where natural resources dominate the economy.
        </p>

        <div class="divider"><span>Research Question</span></div>

        <p style="font-size: 1.2rem; color: var(--navy); font-weight: 600; text-align: center; max-width: 720px; margin: 0 auto 2.5rem;">
            Do natural resource endowments constrain or enable economic diversification?
            How do resource-rich countries differ in their paths toward complexity?
        </p>

        <p>
            The central finding is that the resource curse is not universal: its severity depends on
            the type of resource, the strength of institutions, and whether human capital investment
            can overcome the structural disadvantages of resource dependence.
        </p>

        <div class="divider"><span>Analytical Approach</span></div>

        <p>
            The analysis proceeds in three stages. First, <strong>unsupervised learning</strong>
            groups countries by their resource and development profiles: Principal Component Analysis
            (PCA) reduces the data to its main dimensions, and K-means clustering assigns each country
            to one of six groups based on similarity. Second, <strong>panel regression</strong> with
            country and year fixed effects estimates the relationship between resource production
            and economic complexity, controlling for factors that are constant within countries or
            common across years. Third, <strong>machine learning models</strong> (regularized regression
            and gradient-boosted trees) test how well resource and institutional variables predict
            complexity out of sample, and which variables matter most.
        </p>
        <p>
            Production data for 20+ commodities are aggregated into four categories (oil, natural gas,
            coal, and metals) and normalized by GDP to measure resource intensity: how much of a
            country&rsquo;s economy depends on extraction, rather than how much it produces in absolute terms.
        </p>
    </section>


    <!-- PART I: PRODUCTION PATTERNS -->
    <section>
        <span class="section-label">Part I</span>
        <h2>Global Resource Production Patterns</h2>

        <p>
            Before testing the resource curse, we map where natural resources are actually produced.
            The distribution is extremely uneven: a handful of countries account for the vast majority
            of global output.
        </p>

        <div class="viz-container">
            <iframe loading="lazy"
                    src="outputs/cluster/map_production.html"
                    height="700"></iframe>
        </div>

        <h3>Resource Diversity &amp; Intensity</h3>

        <p>
            The diversity index measures how many different types of resources a country produces
            at a globally significant scale, weighted by how large its share of world production is.
            Countries that produce meaningful amounts across oil, gas, coal, and metals score higher
            than those that produce only one resource, even if the latter produces more in total value.
            China dominates with a score of 4,123, nearly five times higher than second-place
            Australia (850), reflecting China's outsized share of global coal and metals markets.
            Gulf states score lower because, despite enormous oil output, they represent smaller
            shares of global production than these industrial giants.
        </p>

        <table class="results-table" style="margin: 2rem 0;">
            <thead>
                <tr>
                    <th style="text-align: left;">Metric</th>
                    <th style="text-align: left;">Top 5 (2019)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Most Diversified</strong><br><span style="font-size: 0.88rem; color: var(--text-muted);">Shannon entropy, &gt;0.5% global share</span></td>
                    <td>South Africa (0.77), Australia (0.77), Morocco (0.67), T&uuml;rkiye (0.66), DRC (0.57)</td>
                </tr>
                <tr>
                    <td><strong>Highest Intensity</strong><br><span style="font-size: 0.88rem; color: var(--text-muted);">Production value as % of GDP</span></td>
                    <td>Kuwait (15.4%), Qatar (12.5%), Iraq (10.5%), Mongolia (9.5%), Oman (8.3%)</td>
                </tr>
                <tr>
                    <td><strong>Largest Absolute</strong><br><span style="font-size: 0.88rem; color: var(--text-muted);">Total production value, USD</span></td>
                    <td>China ($280B), USA ($273B), Russia ($201B), Saudi Arabia ($131B), Canada ($82B)</td>
                </tr>
            </tbody>
        </table>

        <div class="viz-container">
            <h4>Resource Diversity Index (2019)</h4>
            <iframe loading="lazy"
                    src="outputs/cluster/diversity_map.html"
                    height="550"></iframe>
        </div>
    </section>


    <!-- PART II: CLUSTERING -->
    <section id="findings" class="summary-section full-width-section">
        <div class="container">
            <span class="section-label">Part II</span>
            <h2>Country Clustering</h2>

            <p>
                Not all resource-rich countries are alike. Some are petrostates with minimal
                manufacturing; others are mining economies with growing industrial bases; some
                are wealthy and diversified despite heavy resource extraction. To make sense of
                this variety, we group countries by similarity across their resource production
                profiles, economic complexity, and human capital.
            </p>
            <p>
                The grouping uses K-means clustering, an algorithm that assigns each country to
                the cluster whose average profile it most closely resembles. Countries within the
                same cluster share similar combinations of resource dependence and economic
                sophistication. Six groups emerge, each with a distinct development trajectory.
                (The technical details of dimensionality reduction and cluster selection are in
                the <a href="#appendix">appendix</a>.)
            </p>

            <div class="content-grid">
                <div class="content-card">
                    <div class="card-header"><h3>Petrostates</h3></div>
                    <div class="card-body">
                        <p>Angola, Iraq, Kuwait, Libya, and 7 others</p>
                        <p>Extreme oil dependence (&gt;8% of GDP), very low economic complexity, weak education and health outcomes. The classic resource curse profile.</p>
                    </div>
                </div>
                <div class="content-card">
                    <div class="card-header"><h3>Low-Income Diversified</h3></div>
                    <div class="card-body">
                        <p>Albania, Algeria, Bangladesh, Cameroon, and 41 others</p>
                        <p>Low complexity and low human capital, but also low resource dependence. These countries face development challenges that are not primarily resource-driven.</p>
                    </div>
                </div>
                <div class="content-card">
                    <div class="card-header"><h3>Advanced Economies</h3></div>
                    <div class="card-body">
                        <p>Australia, Germany, Japan, USA, Brazil, and 48 others</p>
                        <p>High complexity, strong human capital, and low resource dependence as a share of GDP. Includes some resource producers (Australia, Canada) whose economies are diversified enough to avoid the curse.</p>
                    </div>
                </div>
                <div class="content-card">
                    <div class="card-header"><h3>Mining-Dependent</h3></div>
                    <div class="card-body">
                        <p>Chile, Peru, DRC, Bolivia, Guinea, and 6 others</p>
                        <p>Metals production dominates (&gt;5% of GDP), with low complexity and moderate human capital. Downstream processing and manufacturing linkages are weak.</p>
                    </div>
                </div>
                <div class="content-card">
                    <div class="card-header"><h3>Wealthy Hydrocarbon Exporters</h3></div>
                    <div class="card-body">
                        <p>Norway, Qatar, Brunei, Trinidad &amp; Tobago</p>
                        <p>High oil and gas production combined with positive economic complexity and strong human capital. These are the countries that have avoided or partially overcome the resource curse.</p>
                    </div>
                </div>
                <div class="content-card">
                    <div class="card-header"><h3>Coal &amp; Metals Outlier</h3></div>
                    <div class="card-body">
                        <p>Mongolia</p>
                        <p>Extreme coal and metals dependence with very low complexity. A single-country cluster that illustrates the concentrated risk of mineral-dependent development.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Cluster maps and transitions -->
    <section>
        <h3 style="margin-top: 0;">Cluster Geography</h3>
        <div class="viz-container">
            <iframe loading="lazy"
                    src="outputs/cluster/map_clusters.html"
                    style="width: 100%; height: 550px; border: none;"
                    title="Cluster Map"></iframe>
        </div>

        <h3>Cluster Transitions (1995&ndash;2019)</h3>

        <p>
            Do countries stay in the same group over time? The Sankey diagram traces country
            movements between clusters from 1995 to 2019. Of 126 countries tracked across both
            years, <strong>100 (79%) remained in their original cluster</strong>. The remaining
            26 shifted categories. Several patterns stand out.
        </p>

        <div class="theory-box">
            <h4 style="color: var(--accent); margin-top: 0;">Transition Patterns</h4>
            <ul style="padding-left: 1.5rem; margin-top: 0.75rem;">
                <li><strong>Upward mobility is possible but uncommon:</strong> 12 countries moved from Low-Income
                Diversified to Advanced Economies, including Brazil, Malaysia, Thailand, T&uuml;rkiye, and South Africa.
                These transitions accompanied sustained manufacturing development and human capital accumulation.</li>
                <li><strong>Mining intensification:</strong> 6 countries moved into Mining-Dependent status (Burkina Faso,
                Bolivia, DRC, Ghana, Mali, Peru), reflecting expanded metals extraction relative to GDP.</li>
                <li><strong>Petrostate persistence:</strong> 10 of 13 petrostates in 1995 remained petrostates in 2019.
                Norway and Qatar moved to Wealthy Hydrocarbon Exporters, combining high oil/gas production with greater
                economic complexity.</li>
                <li><strong>No petrostate reached Advanced Economies</strong> during this period, confirming the difficulty
                of escaping oil dependence.</li>
            </ul>
        </div>

        <div class="viz-container">
            <h4>Cluster Transitions: 1995 &rarr; 2019</h4>
            <iframe loading="lazy"
                    src="outputs/cluster/cluster_sankey_transitions.html"
                    height="550"></iframe>
        </div>

        <h3>Temporal Dynamics</h3>

        <p>
            The animated map shows cluster assignments year-by-year. Most visible changes occur at
            the margins: countries near cluster boundaries may shift between adjacent groups based on
            yearly fluctuations in commodity prices or production volumes. Core members tend to remain stable.
        </p>

        <div class="viz-container">
            <h4>Cluster Assignments Over Time (1995&ndash;2019)</h4>
            <iframe loading="lazy"
                    src="outputs/cluster/cluster_map_animated.html"
                    height="600"></iframe>
        </div>
    </section>


    <!-- PART III: ECONOMETRICS -->
    <section>
        <span class="section-label">Part III</span>
        <h2>Econometric Results</h2>

        <p>
            Panel regression with country and year fixed effects estimates within-country relationships
            between resource production and economic complexity. Fixed effects absorb everything constant
            about a country (geography, colonial history, cultural factors) and everything common across
            years (global commodity price shocks, trade cycle effects). Standard errors are clustered at
            the country level to account for serial correlation within each country's time series.
        </p>
        <p>
            Two complementary approaches are used. Approach A covers the full sample and decomposes
            resources into four GDP-normalized categories. Approach B restricts to the 54 high-resource
            countries and uses a log-log functional form, which allows coefficients to be interpreted
            as elasticities.
        </p>

        <div class="two-col">
            <div class="note-box">
                <h4>Approach A: Full Sample (126 countries)</h4>
                <p>
                    PanelOLS with country and year fixed effects. Resources enter as four separate
                    GDP-normalized shares (oil, gas, coal, metals as a percentage of total GDP).
                    Five specifications are estimated: a contemporaneous resource curse model (A1),
                    a one-year lagged version (A2), a lagged model with an HCI-resource interaction
                    term (A3), a full structural specification with 16 covariates (A4), and a dynamic
                    model that includes lagged ECI as a predictor (A5).
                </p>
            </div>
            <div class="note-box">
                <h4>Approach B: High-Resource Subsample (54 countries)</h4>
                <p>
                    OLS with manual country dummies and clustered standard errors. Resources enter as
                    a single aggregate: log(production value per capita). Six specifications test
                    log-log elasticities (B1), interaction terms for human capital and investment (B2),
                    lagged ECI persistence (B3), two-way fixed effects in levels (B4), and fully
                    lagged variants in both log-log (B5) and level (B6) forms.
                </p>
            </div>
        </div>

        <h3>Approach A: Resource Coefficients Across Specifications</h3>

        <p>
            The coefficient plot below compares how the four resource variables and human capital
            behave across specifications. Each point is a coefficient estimate; horizontal lines
            show 95% confidence intervals. A coefficient whose interval excludes zero is statistically
            significant at the 5% level.
        </p>

        <div class="viz-container">
            <h4>Approach A: Resource Variable Coefficients</h4>
            <iframe loading="lazy"
                    src="outputs/ml/fe_coef_approach_a.html"
                    height="500"></iframe>
        </div>

        <div class="theory-box">
            <h3>Key Findings from Approach A</h3>
            <p>
                <strong>Coal is the most robust negative predictor of economic complexity.</strong>
                Its coefficient is negative and statistically significant across the contemporaneous,
                lagged, and dynamic specifications. Oil production also carries a negative sign in
                most specifications, though with smaller magnitude. Natural gas and metals effects
                are generally not distinguishable from zero, suggesting these resources do not carry
                the same structural costs as coal and oil dependence.
            </p>
            <p>
                <strong>Human capital is the strongest positive predictor</strong> across all
                non-dynamic specifications. In the interaction model (A3), the HCI &times; Total
                Resources term tests whether human capital returns differ in resource-rich countries.
            </p>
            <p>
                <strong>Within-country variation is difficult to explain.</strong> The within-R&sup2;
                for the non-dynamic specifications is low, reflecting the fact that economic complexity
                changes slowly. The dynamic specification (A5), which includes lagged ECI, captures
                substantially more within-country variation, but this is largely because past
                complexity is the best predictor of current complexity.
            </p>
        </div>

        <div class="viz-grid">
            <div class="viz-container">
                <h4>Approach A: Within-R&sup2; by Specification</h4>
                <iframe loading="lazy"
                        src="outputs/ml/fe_r2_approach_a.html"
                        height="460"></iframe>
            </div>
            <div class="viz-container">
                <h4>A4 Full Structural: All Coefficients</h4>
                <iframe loading="lazy"
                        src="outputs/ml/fe_coef_a4_full.html"
                        height="560"></iframe>
            </div>
        </div>

        <p style="font-size: 0.95rem; color: var(--text-muted);">
            <strong>Note:</strong> The A4 specification includes all 16 lagged structural covariates.
            Blue bars indicate statistical significance at the 5% level; light blue at the 10% level;
            grey bars are not significant. Error bars show 95% confidence intervals based on
            entity-clustered standard errors.
        </p>

        <h3>Approach B: High-Resource Subsample</h3>

        <p>
            Restricting to the 54 countries classified as high-resource producers allows a more
            targeted test of the resource curse. The log-log specification means that coefficients
            represent elasticities: a 1% increase in production value per capita is associated with
            a given percentage change in ECI. This functional form also reduces the influence of
            extreme outliers in production values.
        </p>

        <div class="viz-container">
            <h4>Approach B: Coefficient Estimates Across Specifications</h4>
            <iframe loading="lazy"
                    src="outputs/ml/fe_coef_approach_b.html"
                    height="470"></iframe>
        </div>

        <div class="viz-container">
            <h4>Approach B: Model Fit</h4>
            <iframe loading="lazy"
                    src="outputs/ml/fe_r2_approach_b.html"
                    height="460"></iframe>
        </div>

        <div class="theory-box">
            <h3>Key Findings from Approach B</h3>
            <p>
                <strong>The resource curse is confirmed within high-resource countries.</strong>
                Log(production value per capita) carries a negative coefficient across the log-log
                specifications, indicating that among countries already producing significant
                resources, greater production intensity is associated with lower economic complexity.
            </p>
            <p>
                <strong>Investment channels provide a partial offset.</strong> The GFCF &times;
                Resource Production interaction is positive in several specifications, suggesting
                that gross fixed capital formation can moderate the negative resource effect.
                Countries that reinvest resource revenues into physical capital accumulation
                experience less of a complexity penalty.
            </p>
            <p>
                <strong>Path dependence is strong.</strong> In specifications that include lagged
                ECI, the persistence coefficient is large and significant, confirming that economic
                complexity evolves slowly. Countries with historically low complexity face structural
                inertia that single-period resource or institutional changes cannot easily overcome.
            </p>
        </div>
    </section>


    <!-- PART IV: MACHINE LEARNING -->
    <section class="summary-section full-width-section">
        <div class="container">
            <span class="section-label">Part IV</span>
            <h2>Machine Learning Results</h2>

            <p>
                The fixed effects regressions identify within-country relationships but explain
                limited variation, particularly for slow-moving outcomes like economic complexity.
                Machine learning models take a different approach: they test how well resource and
                institutional variables can predict complexity out of sample, and identify which
                variables carry the most predictive weight. Seven algorithms are compared, from
                regularized linear models (Ridge, Lasso, ElasticNet) to tree-based ensembles
                (Random Forest, Gradient Boosting, XGBoost, LightGBM).
            </p>
            <p>
                All models use a temporal train/test split. Training data covers 1995 through 2013;
                test data covers 2014 through 2019. This simulates a realistic forecasting scenario
                where the model must generalize to unseen future years, not just unseen data points
                within the same time period. R&sup2; on the test set measures the share of variation
                in held-out data that the model explains.
            </p>
            <p>
                Three feature specifications are tested: <strong>RC Baseline</strong> (8 features:
                four resource GDP shares, human capital, rule of law, property rights, and a
                landlocked indicator), <strong>RC + Interactions</strong> (10 features: adds a
                high-resource country dummy and a human capital &times; total resources interaction
                term), and <strong>Full Structural</strong> (17 features: adds manufacturing,
                agriculture, trade openness, investment, electricity access, urbanization, political
                stability, private credit, and inflation).
            </p>

            <h3>Model Performance</h3>

            <table class="results-table">
                <thead>
                    <tr>
                        <th style="text-align: left;">Specification</th>
                        <th style="text-align: center;">Features</th>
                        <th style="text-align: left;">Best Model</th>
                        <th style="text-align: right;">Test R&sup2;</th>
                        <th style="text-align: right;">RMSE</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>RC Baseline</td>
                        <td style="text-align: center;">8</td>
                        <td>XGBoost</td>
                        <td class="num">0.804</td>
                        <td class="num">0.456</td>
                    </tr>
                    <tr>
                        <td>RC + Interactions</td>
                        <td style="text-align: center;">10</td>
                        <td>XGBoost</td>
                        <td class="num">0.816</td>
                        <td class="num">0.442</td>
                    </tr>
                    <tr class="highlight-row">
                        <td>Full Structural</td>
                        <td style="text-align: center;">17</td>
                        <td>Random Forest</td>
                        <td class="num">0.891</td>
                        <td class="num">0.340</td>
                    </tr>
                </tbody>
            </table>

            <p style="font-size: 0.95rem; color: var(--text-muted);">
                Adding the HCI &times; Total Resources interaction improves test R&sup2; by 0.012
                over the baseline. The full structural specification provides a larger gain (+0.075
                over interactions), capturing institutional and structural factors that resource
                variables alone miss. Tree-based ensembles consistently outperform regularized
                linear models, indicating substantial nonlinear relationships in the data.
            </p>

            <div class="viz-container">
                <h4>Model Comparison Across Specifications (Test R&sup2;)</h4>
                <iframe loading="lazy" src="outputs/ml/ml_model_comparison.html" height="500"></iframe>
            </div>

            <div class="divider"><span>Fixed Effects vs. Machine Learning</span></div>

            <p>
                The contrast between econometric and ML results is informative. Fixed effects
                regressions achieve low within-R&sup2; because they deliberately absorb all
                cross-country differences, leaving only within-country variation to explain. Tree-based
                ML models, which operate on the full cross-sectional and temporal variation,
                explain far more. This gap does not mean one approach is better; each answers a
                different question. Panel FE isolates causal channels within countries. ML quantifies
                overall predictive structure across countries and time.
            </p>

            <div class="viz-container">
                <h4>Fixed Effects vs. Machine Learning: Explanatory Power</h4>
                <iframe loading="lazy"
                        src="outputs/ml/fe_vs_ml_comparison.html"
                        height="500"></iframe>
            </div>

            <div class="divider"><span>What Drives Complexity?</span></div>

            <h3>Ridge Coefficients (RC + Interactions)</h3>

            <p>
                Ridge regression estimates the marginal contribution of each variable to economic
                complexity, after applying an L2 penalty that shrinks coefficients to prevent
                overfitting. All features are standardized before estimation, so coefficients
                are comparable in magnitude: a value of +0.50 means a one-standard-deviation
                increase in that variable is associated with a 0.50 SD increase in predicted ECI.
            </p>

            <div class="pull-quote">
                The interaction between human capital and total resource intensity is negative.
                Each additional unit of human capital produces <em>less</em> economic complexity in
                resource-rich countries than in resource-poor ones. Education and health investments
                still matter, but their returns are diminished when the economy is dominated by
                extraction. This points to a specific resource curse mechanism: resource wealth
                may weaken the institutional and labor-market channels through which human capital
                translates into diversification.
            </div>

            <div class="viz-grid">
                <div class="viz-container">
                    <h4>Ridge Coefficients (RC + Interactions)</h4>
                    <iframe loading="lazy" src="outputs/ml/ml_coefficients_interactions.html" height="500"></iframe>
                </div>
                <div class="viz-container">
                    <h4>SHAP Feature Importance (LightGBM)</h4>
                    <p style="padding: 0 1.25rem 0.5rem; margin: 0; font-size: 0.9rem; color: var(--text-muted);">
                        SHAP (SHapley Additive exPlanations) values decompose each individual prediction
                        into the contribution of each feature, accounting for interactions between variables.
                        The bar chart shows mean absolute SHAP values across the test set.
                    </p>
                    <iframe loading="lazy" src="outputs/ml/ml_shap_importance.html" height="500"></iframe>
                </div>
            </div>

            <h3>Tree-Based Feature Importance</h3>

            <p>
                While Ridge coefficients measure linear associations, tree-based feature importance
                captures how frequently and effectively a variable is used in the ensemble's decision
                splits. The two measures are complementary: a variable can have a small linear
                coefficient but high split-based importance if its relationship with ECI is nonlinear
                or involves thresholds.
            </p>
            <p>
                Across specifications, institutional variables (rule of law, property rights) and
                human capital consistently rank among the top predictors. In the RC + Interactions
                specification, the high-resource country dummy also receives substantial importance,
                confirming that the model treats resource-rich and resource-poor countries as
                structurally different populations. When the Full Structural specification introduces
                additional controls, importance redistributes toward electricity access, urbanization,
                and manufacturing share, reflecting the broader set of development channels these
                variables capture.
            </p>

            <div class="viz-grid">
                <div class="viz-container">
                    <h4>RC + Interactions: Feature Importance</h4>
                    <iframe loading="lazy" src="outputs/ml/ml_feature_importance_interactions.html" height="500"></iframe>
                </div>
                <div class="viz-container">
                    <h4>Full Structural: Feature Importance</h4>
                    <iframe loading="lazy" src="outputs/ml/ml_feature_importance_full.html" height="500"></iframe>
                </div>
            </div>

            <div class="divider"><span>Model Diagnostics</span></div>

            <h3>Prediction Accuracy</h3>

            <p>
                The scatter plot compares predicted and actual ECI for every country-year observation
                in the test set (2014 through 2019), using the best-performing model from the
                RC + Interactions specification. Points near the 45-degree line indicate accurate
                predictions. Systematic deviations from the line reveal where the model's feature
                set fails to capture the drivers of complexity.
            </p>
            <p>
                The residuals chart ranks countries by their mean prediction error across the test
                period. Positive residuals (green) indicate that the model underpredicts ECI: the
                country is more complex than its resource profile and institutions would suggest.
                Negative residuals (red) indicate overprediction: the country performs worse than
                the model expects.
            </p>

            <div class="viz-grid">
                <div class="viz-container">
                    <h4>Predicted vs Actual ECI</h4>
                    <iframe loading="lazy" src="outputs/ml/ml_predicted_vs_actual.html" height="400"></iframe>
                </div>
                <div class="viz-container">
                    <h4>Mean Prediction Error by Country (Top 25)</h4>
                    <iframe loading="lazy" src="outputs/ml/ml_residuals_by_country.html" height="400"></iframe>
                </div>
            </div>

            <div class="note-box">
                <h4>Interpreting Prediction Errors</h4>
                <p>
                    Countries where the model consistently <strong>overpredicts</strong> ECI (negative
                    residuals) tend to be cases where conflict, governance failures, or institutional
                    decay have reduced complexity below what resource and structural variables would
                    imply. These are countries whose outcomes are worse than their endowments predict.
                </p>
                <p>
                    Countries where the model <strong>underpredicts</strong> (positive residuals)
                    have achieved higher complexity than expected, often through manufacturing or
                    services development that the model's resource-focused features do not fully
                    capture. These outliers point to successful diversification strategies that
                    operate through channels beyond the variables included in the specification.
                </p>
            </div>
        </div>
    </section>


    <!-- POLICY IMPLICATIONS -->
    <section id="policy" style="padding-bottom: 2.5rem;">
        <span class="section-label">Synthesis</span>
        <h2>Policy Implications</h2>
        <p style="max-width: 760px; margin-bottom: 2.5rem;">
            The combined econometric, clustering, and machine learning results point to four
            areas where the findings carry direct relevance for resource-dependent economies.
        </p>

        <div class="conclusion-grid">
            <div class="conclusion-card">
                <div class="conclusion-number">01</div>
                <div class="conclusion-content">
                    <h4>The resource curse is conditional, not universal</h4>
                    <p>
                        Coal and oil dependence carry consistent negative associations with
                        complexity, while metals and natural gas do not. The cluster analysis
                        confirms that some resource producers (Norway, Qatar, Australia, Canada)
                        achieve high complexity despite extraction-heavy economies. Policy should
                        target the conditions under which resources become constraints, rather
                        than treating resource wealth as inherently problematic.
                    </p>
                </div>
            </div>
            <div class="conclusion-card">
                <div class="conclusion-number">02</div>
                <div class="conclusion-content">
                    <h4>Human capital matters, but less where it is needed most</h4>
                    <p>
                        Human capital is the single most consistent positive predictor across
                        both econometric and ML frameworks. However, the negative interaction
                        with resource intensity suggests that education and health investments
                        yield lower diversification returns in extraction-dominated economies.
                        Policies must address the labor-market and institutional channels that
                        prevent human capital from translating into complexity.
                    </p>
                </div>
            </div>
            <div class="conclusion-card">
                <div class="conclusion-number">03</div>
                <div class="conclusion-content">
                    <h4>Investment channels can moderate the curse</h4>
                    <p>
                        Gross fixed capital formation interacted with resource production carries
                        a positive coefficient in the Approach B regressions. Countries that
                        reinvest resource revenues into physical capital accumulation suffer less
                        of a complexity penalty. This supports the case for sovereign wealth
                        funds, infrastructure investment, and industrial policy linked to
                        resource revenues.
                    </p>
                </div>
            </div>
            <div class="conclusion-card">
                <div class="conclusion-number">04</div>
                <div class="conclusion-content">
                    <h4>Different starting points need different strategies</h4>
                    <p>
                        The six-cluster typology suggests that no single policy prescription
                        applies universally. Petrostates face institutional and labor-market
                        reforms; mining-dependent economies need downstream processing and
                        manufacturing linkages; low-income diversified countries face development
                        challenges that are not primarily resource-driven. The dynamic
                        specifications show that past complexity is the strongest predictor of
                        current complexity, implying that structural change requires sustained,
                        long-horizon interventions.
                    </p>
                </div>
            </div>
        </div>
    </section>


    <!-- METHODOLOGICAL NOTES -->
    <section id="methods" class="summary-section full-width-section">
        <div class="container">
            <h2>Methodological Notes</h2>

            <div class="two-col">
                <div class="note-box">
                    <h4 style="color: var(--accent);">Data Processing</h4>
                    <p>
                        20+ commodities aggregated into four categories (oil, natural gas, coal, metals).
                        Production values computed as physical quantity &times; market price (USD).
                        GDP normalization: Production Value / (GDP per capita &times; Population) &times; 100.
                        All features standardized (mean=0, SD=1) before PCA, clustering, and
                        regularized regression. The high-resource country dummy is based on a list of
                        54 countries identified through the clustering analysis and cross-referenced
                        with commodity production thresholds.
                    </p>
                </div>
                <div class="note-box">
                    <h4 style="color: var(--accent);">Statistical Methods</h4>
                    <p>
                        PCA: 2 components, 55.7% variance explained. K-means: k=6, silhouette=0.344.
                        Panel regressions: Approach A uses PanelOLS with two-way fixed effects and
                        entity-clustered SE (5 specifications); Approach B uses OLS with manual
                        country/year dummies and clustered SE (6 specifications). ML: temporal split
                        (train &le;2013, test 2014-2019), 7 algorithms (Ridge, Lasso, ElasticNet,
                        Random Forest, Gradient Boosting, XGBoost, LightGBM), 5-fold cross-validation,
                        SHAP interpretability on LightGBM.
                    </p>
                </div>
            </div>
        </div>
    </section>


    <!-- APPENDIX -->
    <section id="appendix">
        <h2>Appendix: Robustness Checks &amp; Supplementary Analysis</h2>

        <h3>Coefficient Stability Across ML Specifications</h3>

        <p>
            A key test of whether a finding is robust or fragile is whether it survives changes
            in model specification. The plot below tracks the four resource variable coefficients
            (Ridge regression, standardized) across the three ML specifications: the RC Baseline
            with 8 features, RC + Interactions with 10 features including the high-resource dummy
            and human capital interaction, and the Full Structural model with 17 covariates.
            Error bars show bootstrapped 95% confidence intervals (500 resamples). A coefficient
            whose interval excludes zero is statistically distinguishable from no effect at the
            5% level.
        </p>
        <p>
            Coal and oil coefficients remain negative and stable across all three specifications,
            confirming that their estimated drag on economic complexity is not driven by omitted
            variable bias within this ML framework. Natural gas and metals coefficients are smaller
            in magnitude and less consistent, consistent with the fixed-effects results.
        </p>

        <div class="viz-container">
            <h4>Ridge Coefficient Stability: Resource Variables Across Specifications</h4>
            <iframe loading="lazy"
                    src="outputs/ml/ml_coefficient_stability.html"
                    height="470"></iframe>
        </div>

        <h3>ECI vs Resource Dependence: Country Case Studies</h3>

        <p>
            The aggregate regressions describe average relationships, but country trajectories
            vary widely. The paired time-series below tracks Economic Complexity (top panel) and
            total resource production as a share of GDP (bottom panel) for six countries chosen
            to represent distinct development pathways: Norway (successful diversification despite
            oil wealth), Nigeria (persistent resource dependence with low complexity), Chile
            (copper-dependent but gradually upgrading), the UAE (petrostate with aggressive
            diversification policy), Malaysia (resource-rich transition to manufacturing), and
            Botswana (mining-dependent but institutionally strong).
        </p>

        <div class="viz-container">
            <h4>Economic Complexity vs Resource Dependence (1995-2019)</h4>
            <iframe loading="lazy"
                    src="outputs/ml/eci_vs_resources_timeseries.html"
                    height="630"></iframe>
        </div>

        <h3>SHAP Dependence: Human Capital and Oil</h3>

        <p>
            While mean SHAP values (shown in the main results) measure the overall importance
            of each feature, SHAP dependence plots reveal how the direction and magnitude of
            a feature's effect vary across its range. Each point represents a single country-year
            observation in the test set. The y-axis shows the SHAP value: how much that observation's
            feature value pushes the model's prediction above or below the baseline.
        </p>
        <p>
            For human capital, the relationship is broadly monotonic: higher human capital
            consistently increases predicted ECI. The scatter for high-resource countries
            (red diamonds) can be compared to the rest of the sample to assess whether
            resource-rich contexts alter the return to human capital, providing a non-parametric
            complement to the Ridge interaction term.
        </p>

        <div class="viz-grid">
            <div class="viz-container">
                <h4>SHAP Dependence: Human Capital Index</h4>
                <iframe loading="lazy"
                        src="outputs/ml/ml_shap_dependence_hci.html"
                        height="560"></iframe>
            </div>
            <div class="viz-container">
                <h4>SHAP Dependence: Oil Production (% GDP)</h4>
                <iframe loading="lazy"
                        src="outputs/ml/ml_shap_dependence_oil.html"
                        height="560"></iframe>
            </div>
        </div>

        <div class="divider"><span>Supplementary Data</span></div>

        <h3>Resource Diversity &amp; Intensity Indices</h3>

        <p>
            <strong>Diversity</strong> uses Shannon entropy to measure how many different types of resources
            a country produces at a globally significant level. It is highest when production is spread evenly
            across all five categories (fossil fuels, base metals, precious metals, battery/strategic metals,
            industrial minerals) and lowest when concentrated in just one. Only resources where the country
            holds at least 0.5% of global production are counted. A power transformation (x<sup>1.5</sup>)
            rewards market dominance: holding 20% of global cobalt production counts for more than
            holding 2% of global coal.
        </p>
        <p>
            <strong>Intensity</strong> measures total resource production value as a share of GDP. The map
            uses a logarithmic scale because the range is wide: from near-zero for service economies to
            above 15% for Kuwait and Congo Republic.
        </p>

        <div class="viz-container">
            <h4>Resource Intensity (% of GDP)</h4>
            <iframe loading="lazy"
                    src="outputs/cluster/intensity_map.html"
                    height="550"></iframe>
        </div>

        <div class="viz-container">
            <h4>Diversity vs Intensity</h4>
            <iframe loading="lazy"
                    src="outputs/cluster/diversity_vs_intensity.html"
                    height="600"></iframe>
        </div>

        <h3>Resource Portfolio Decomposition</h3>

        <p>
            The stacked bar chart decomposes the domestic production portfolio for the 20 most diversified
            countries. Each bar shows how production value is distributed across the five resource categories.
            Countries like Australia and Russia appear because they hold meaningful global market shares in
            multiple categories, not simply because they produce large absolute volumes.
        </p>

        <div class="viz-container">
            <iframe loading="lazy"
                    src="outputs/cluster/diversity_decomposed.html"
                    height="700"></iframe>
        </div>

        <h3>Principal Component Analysis</h3>

        <p>
            PCA takes the six clustering variables (resource production intensities, economic complexity,
            and human capital) and finds the two combinations that capture the most variation. The first
            two components explain 55.7% of total variation. Clustering is performed on the original six
            variables, not on these two components; the scatter plot is a simplified projection for visualization.
        </p>

        <div class="two-col">
            <div class="note-box">
                <h4>PC1: Economic Development (31.6%)</h4>
                <p>High loadings on Economic Complexity (0.67) and Human Capital (0.62). Separates advanced
                manufacturing economies from low-income countries. Negative loading on metals (&minus;0.39).</p>
            </div>
            <div class="note-box">
                <h4>PC2: Hydrocarbon Intensity (24.1%)</h4>
                <p>Driven by oil (0.64) and natural gas (0.54) production. Identifies energy exporters as
                a distinct axis. Negative loading on coal (&minus;0.40).</p>
            </div>
        </div>

        <div class="viz-container">
            <h4>PCA Scatter Plot (Colored by Cluster)</h4>
            <iframe loading="lazy"
                    src="outputs/cluster/pca_scatter_clusters.html"
                    height="600"></iframe>
        </div>

        <div class="viz-grid">
            <div class="viz-container">
                <h4>PC1 Loadings</h4>
                <iframe loading="lazy"
                        src="outputs/cluster/pca_loadings_pc1.html"
                        height="400"></iframe>
            </div>
            <div class="viz-container">
                <h4>PC2 Loadings</h4>
                <iframe loading="lazy"
                        src="outputs/cluster/pca_loadings_pc2.html"
                        height="400"></iframe>
            </div>
        </div>

        <h3>ML Feature Importance: Baseline vs Full Structural</h3>

        <p>
            Comparing split-based feature importance across the RC Baseline and Full Structural
            specifications reveals which variables are consistently important regardless of what
            other controls are available, and which only emerge when the model has access to a
            richer set of covariates. Human capital and institutional quality (rule of law,
            property rights) rank highly in both. When structural controls are added, the model
            redistributes importance toward infrastructure and sectoral composition variables.
        </p>

        <div class="viz-grid">
            <div class="viz-container">
                <h4>RC Baseline: Feature Importance</h4>
                <iframe loading="lazy"
                        src="outputs/ml/ml_feature_importance_resource_curse.html"
                        height="400"></iframe>
            </div>
            <div class="viz-container">
                <h4>Full Structural: Feature Importance</h4>
                <iframe loading="lazy"
                        src="outputs/ml/ml_feature_importance_full.html"
                        height="400"></iframe>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="social-links">
            <a href="https://www.linkedin.com/in/leonardo-luksic-3b9251240/" target="_blank" class="social-link">LinkedIn</a>
            <a href="https://github.com/leoss14" target="_blank" class="social-link">GitHub</a>
            <a href="/cdn-cgi/l/email-protection#84e8aae8f1eff7ede7c4e8f7e1aae5e7aaf1ef" class="social-link">Email</a>
        </div>
    </footer>
    <script src="../../js/nav.js"></script>

    <scrip